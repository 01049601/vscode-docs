---
Order: 66
TOCTitle: May 2021
PageTitle: Visual Studio Code May 2021
MetaDescription: Learn what is new in the Visual Studio Code May 2021 Release (1.57)
MetaSocialImage: 1_57/release-highlights.png
Date: 2021-6-9
DownloadVersion: 1.57.0
---
# May 2021 (version 1.57)

<!-- DOWNLOAD_LINKS_PLACEHOLDER -->

Welcome to the Insiders build. These are the preliminary notes for the May 1.57 release of Visual Studio Code. As we get closer to the release date, you'll find details below about new features and important fixes.

Until the May milestone release notes are available, you can still track our progress:

* **[May iteration plan](https://github.com/microsoft/vscode/issues/123368)** - Review what's planned for the milestone.
* **[Commit log](https://github.com/Microsoft/vscode/commits/main)** - GitHub commits to the vscode open-source repository.
* **[Closed issues](https://github.com/Microsoft/vscode/issues?q=is%3Aissue+milestone%3A%22May+2021%22+is%3Aclosed)** - Resolved bugs and implemented feature requests in the milestone.

We really appreciate people trying our new features as soon as they are ready, so check back here often and learn what's new.

If you find issues or have suggestions, you can enter them in the [VS Code repository](https://github.com/Microsoft/vscode/issues) on GitHub.

<!-- In-product release notes styles.  Do not modify without also modifying regex in gulpfile.common.js -->
<a id="scroll-to-top" role="button" title="Scroll to top" aria-label="scroll to top" href="#"><span class="icon"></span></a>
<link rel="stylesheet" type="text/css" href="css/inproduct_releasenotes.css"/>

## Workbench

### Improved editor drag and drop across windows

Support for dragging editors to other windows was improved in this release. You can now drag diff editors, custom editors and the entire editor group to another window to open the editors there.

![Improved editor drag and drop across windows](images/1_57/editor-dnd.gif)

*Theme: [GitHub Light Theme](https://marketplace.visualstudio.com/items?itemName=GitHub.github-vscode-theme)*

### Removed `Cmd+W` / `Ctrl+W` as keybinding to close window when no editor is opened

We have gotten [feedback](https://github.com/microsoft/vscode/issues/54492) that users are frustrated when the window suddenly closes after having closed the last editor via rapid `Cmd+W` / `Ctrl+W` usages. A quick poll in the team also revealed that many had the keybinding for closing a window unassigned, so we went ahead and removed `Cmd+W` / `Ctrl+W` as keybinding to close window when no editor is opened.

You can easily bring the keybinding back by configuring it as follows:

**macOS**
```json
{
  "key": "cmd+w",
  "command": "workbench.action.closeWindow",
  "when": "!editorIsOpen && !multipleEditorGroups"
}
```

**Windows/Linux**
```json
{
  "key": "ctrl+w",
  "command": "workbench.action.closeWindow",
  "when": "!editorIsOpen && !multipleEditorGroups"
}
```

**Note:** on all platforms there is a dedicated assigned keybinding to close the window:
* macOS: `Cmd+Shift+W`
* Linux: `Alt+F4`
* Windows: `Alt+F4`

## Integrated Terminal

### Terminal tabs

Tabs are now enabled by default.

A tab's color can be changed to enable quick navigation and differentiation between them.

Tabs can be dragged and dropped to allow for re-arranging.

![drag and drop](images/1_57/tabs-drag-and-drop.gif)

Dragging a tab in a terminal group into the empty area will remove it from the group (ie. unsplit, also available via the context menu).

![unsplit](images/1_57/tabs-unsplit.gif)

Dragging a tab into the main terminal area allows joining a group (also available via the context menu).

![joining](images/1_57/tabs-joining.gif)

We've added more ways to split a terminal:
- on hover, select the inline split button
- right click the context menu and select the `Split...` submenu option
- `kbstyle(alt)` click a tab, the plus button, or the the single tab on the terminal panel, as shown below

![split terminal buttons](images/1_57/tabs-split.gif)

### Title sequence support

The setting `terminal.integrated.experientalUseTitleEvent` setting has been promoted to stable as `terminal.integrated.titleMode`. By default this setting will be `executable` which names terminals based on the detected foreground process:

![Running git show will result in the terminal's title changing to git](images/1_57/terminal-title-executable.png)

When this is set to `sequence`, the title will be based on what the shell sets it to. This needs shell support to work, an example of this in action is oh-my-zsh's default prompt which shows additional information about the session:

![The oh-my-zsh default prompt will show the computer's name and current working directory](images/1_57/terminal-title-sequence.png)

### Improved launching with clean environment

The setting `terminal.integrated.inheritEnv` has been available since the [v1.39](https://code.visualstudio.com/updates/v1_36#_launch-terminals-with-clean-environments) but the implementation had some flaws where it could fail due to permissions issues on Linux and may not work as expected on macOS.

Due to improvements to how VS Code sets up its underlying environment it's now possible to access the initial environment it was launched with, which is how most terminals work. When `true` VS Code will now use the initial environment and when `false` use the sourced "shell environment". This setting can help the terminal act more like a regular terminal, you may run into problems depending on your profile/rc set up though if not set up correctly.

## Extension authoring

### New status bar item `id` and `name` properties

We finalized the API for `StatusBarItem` identifier and name properties. The identifier can be passed from the new overload of the `createStatusBarItem` method while the `name` property can change dynamically on the `StatusBarItem` itself.

These new properties are used for the context menu on the status bar to give individual entries a name and for allowing a user to show and hide entries. If you do not provide these properties, the menu will aggregate all status entries from one extension under a single entry.

![Status bar item menu](images/1_57/status-menu.png)

If your extension contributes to the status bar, please consider updating to the new API.

## Proposed extension APIs

Every milestone comes with new proposed APIs and extension authors can try them out. As always, we want your feedback. This is what you have to do to try out a proposed API:

* You must use Insiders because proposed APIs change frequently.
* You must have this line in the `package.json` file of your extension: `"enableProposedApi": true`.
* Copy the latest version of the [vscode.proposed.d.ts](https://github.com/microsoft/vscode/blob/main/src/vs/vscode.proposed.d.ts) file into your project's source location.

You cannot publish an extension that uses a proposed API. There may be breaking changes in the next release and we never want to break existing extensions.

### Enable file system providers to stat a file as readonly

File system providers can now mark individual files as readonly via a new `permissions` property on the `FileStat` by setting the value of the property to `FilePermission.Readonly`.

Readonly files are not editable.

**Note:** If all files should be treated readonly, you can use the existing `isReadonly` option when calling `registerFileSystemProvider`.

## Engineering

This milestone we continued to make the VS Code window ready for enabling Electron's [sandbox](https://www.electronjs.org/docs/api/sandbox-option) and [context isolation](https://www.electronjs.org/docs/tutorial/context-isolation) features.

Specifically:

* We removed node.js dependencies from more code that is used in the renderer
* We continued investigating to drop `webview` usage entirely and switch to `iframe` for our custom views and editors

## Notable fixes

* [71966](https://github.com/microsoft/vscode/issues/71966): Often getting full window hangs
* [85332](https://github.com/microsoft/vscode/issues/85332): Windows: freeze on file delete
* [85332](https://github.com/microsoft/vscode/issues/108804): Do not wait for shell environment resolution before opening window
